function _api()
{
    if [ ! -e "${_CFG_PATH}/${_API_FILE}" ]
    then
        if [ ! -d "${_CFG_PATH}/" ]
        then
            mkdir ${_CFG_PATH}
        fi

        #### sabnzbd config ####
        local _SAB_API=$(openssl rand -hex 16)
        local _SAB_NZB=$(openssl rand -hex 16)
        cp ${_CFG}/sabnzbd.ini ${_APPDATA}/sabnzbd/

        echo "_SAB_API = ${_SAB_API}" >> ${_CFG_PATH}/${_API_FILE}
        echo "_SAB_NZB = ${_SAB_NZB}" >> ${_CFG_PATH}/${_API_FILE}

        sed -i \
            -e "s/^api_key.*/api_key = ${_SAB_API}/g" \
            -e "s/^nzb_key.*/nzb_key = ${_SAB_NZB}/g" \
            ${_APPDATA}/sabnzbd/sabnzbd.ini

        #### nzbhydra2 config ####
        local _NZB_API=$(openssl rand -hex 13 \
            | tr a-f A-F)
        cp ${_CFG}/nzbhydra.yml ${_APPDATA}/nzbhydra2/nzbhydra.yml

        echo "_NZB_API = ${_NZB_API}" >> ${_CFG_PATH}/${_API_FILE}

        yq eval -i \
            ".main.apiKey = \"${_NZB_API}\"" \
            ${_APPDATA}/nzbhydra2/nzbhydra.yml

        sed -i \
            -e "/  downloaders: \[\]/r ${_CFG}/hydra_sab_section.txt" \
            -e 's/  downloaders: \[\]/  downloaders:/g' \
            ${_APPDATA}/nzbhydra2/nzbhydra.yml

        sed -i \
            -e "s/^  - apiKey:.*/  - apiKey: ${_SAB_API}/g" \
            ${_APPDATA}/nzbhydra2/nzbhydra.yml

        ### lidarr, radarr, and sonarr configs ####
        local _ARR_IN="lidarr:LDR
        radarr:RDR
        sonarr:SNR"

        for ITER in ${_ARR_IN}
        do
            local _ITER_IN=_${ITER##*:}_API
            local _ITER_API=$(openssl rand -hex 16)
            cp ${_CFG}/${ITER%%:*}_config.xml ${_APPDATA}/${ITER%%:*}/config.xml

            echo "${_ITER_IN} = ${_ITER_API}" >> ${_CFG_PATH}/${_API_FILE}

            sed -i \
                "s/^  <ApiKey>.*/  <ApiKey>${_ITER_API}<\/ApiKey>/g" \
                ${_APPDATA}/${ITER%%:*}/config.xml
        done
    fi
}
